{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "@id": "",
    "title": "Tour",
    "titleMap": {
        "de": "Tour"
    },
    "description": "A tour describes a conglomeration of stops given an explicit stop order, containing all information about activities to be done, e.g. loading and unloading information about consignments or maintenance stops",
    "descriptionMap": {
        "de": "Eine Tour beschreibt eine Ansammlung von Stops in einer konkreten Reihenfolge, versehen mit allen benötigten Informationen, z.B. Be- und Entladeinformationen für einzelne Aufträge oder Wartungsstops wie Tanken"
    },
    "type": "object",
    "properties": {
        "sender": {
            "title": "Data Origin",
            "titleMap": {
              "de": "Daten-Quelle"
            },
            "description": "The sender of the current record. This usually equals to the ordering party unless the record is a copy that was generated by some other component. In this case the sender can be different from the ordering party",
            "descriptionMap": {
              "de": "Der Versender des Datensatzes. Dies ist in der Regel der Versandpartner bzw. der beauftragende Partner. Er kann jedoch abweichen, wenn ein Dritter eine Kopie erzeugt und weiterleitet."
            },
            "examples": [{
                "ediFormat": "REL100",
                "location": "packageHeader.senderMailboxId",
                "networkId": "CL",
                "value": "SCHAESW"
              },
              {
                "ediFormat": "REL100",
                "location": "packageHeader.senderMailboxId",
                "networkId": "SYA",
                "value": "HELLM00"
              },
              {
                "ediFormat": "EDIFACT",
                "location": "UNB/S002/Field0004"
              }
            ],
            "$ref": "#/definitions/partnerIdentification"
          },
          "receiver": {
            "title": "Data Recipient",
            "titleMap": {
              "de": "Daten-Empfänger"
            },
            "description": "The intended recipient of the the current record. This usually equals to the contracted party unless the record is intentionally sent to another system.",
            "descriptionMap": {
              "de": "Der Empfänger des Datensatzes. Dies ist in der Regel der Empfangspartner bzw. der beauftragte Partner. Er kann jedoch abweichen, wenn der Datensatz gezielt an ein anderes System übertragen werden soll."
            },
            "examples": [{
                "ediFormat": "REL100",
                "location": "packageHeader.receiverMailboxId",
                "networkId": "CL",
                "value": "SCHAESW"
              },
              {
                "ediFormat": "REL100",
                "location": "packageHeader.receiverMailboxId",
                "networkId": "SYA",
                "value": "HELLM00"
              },
              {
                "ediFormat": "EDIFACT",
                "location": "UNB/S003/Field0010"
              }
            ],
            "$ref": "#/definitions/partnerIdentification"
          },
        "tourId": {
            "title": "Tour id",
            "titleMap": {
                "de": "Tour-Nummer"
            },
            "description": "A unique identifier assigned to this tour by the devlivering company",
            "descriptionMap": {
                "de": "Die eindeutige Kennung der Tour, vergeben durch die Zustellerfirma"
            },
            "type": "string"
        },
        "messageFunctionCode": {
            "title": "Message function Code",
            "description": "Determines how the current message should be handled, e.g. whether the stops / consignments should be added removed, ...",
            "type": "string",
            "enum": [
                "add",
                "update",
                "remove",
                "add_partial",
                "update_partial",
                "remove_partial"
            ]
        },
        "description": {
            "title": "Description",
            "titleMap": {
                "de": "Beschreibung"
            },
            "description": "A description of the tour, maybe the occasion of the tour",
            "descriptionMap": {
                "de": "Eine Beschreibung der Tour, möglicherweise der Grund der gefahrenen Tour"
            },
            "type": "string"
        },
        "route": {
            "title": "Route",
            "titleMap": {
                "de": "Route"
            },
            "description": "Information about the route to be driven or its identification",
            "descriptionMap": {
                "de": "Informationen zur Route oder dessen Identifikationsschlüssel"
            },
            "type": "string"
        },
        "driverNotes": {
            "title": "Driver notes",
            "titleMap": {
                "de": "Anmerkungen des Fahrers"
            },
            "description": "Notes which can be attached by the delivering driver",
            "descriptionMap": {
                "de": "Anmerkungen, die vom Fahrer der Tour hinzugefügt werden können"
            },
            "type": "string"
        },
        "carrierNotes": {
            "title": "Carrier notes",
            "titleMap": {
                "de": "Anmerkungen des Frachtführers"
            },
            "description": "Notes which can be attached by the carrier",
            "descriptionMap": {
                "de": "Anmerkungen, die vom Frachtführer hinzugefügt werden können"
            },
            "type": "string"
        },
        "shippingDate": {
            "title": "Shipping date",
            "titleMap": {
                "de": "Zustellungstag"
            },
            "description": "Day on which the tour is proccessed",
            "descriptionMap": {
                "de": "Der Tag, an dem die Tour abgefahren wird"
            },
            "type": "string"
        },
        "x-habbl-workflowId": {
            "title": "habbl workflow id",
            "titleMap": {
                "de": "habbl-Workflow-Kennung"
            },
            "type": "string"
        },
        "carrier": {
            "title": "Carrier",
            "titleMap": {
                "de": "Frachtführer"
            },
            "description": "Company responsible for the actual transport of the goods from the shipping partner to the recipient",
            "descriptionMap": {
                "de": "Firma, die für die Durchführung der Tour verantwortlich ist"
            },
            "$ref": "#/definitions/address",
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "sender": {
            "title": "Data Origin",
            "titleMap": {
                "de": "Daten-Quelle"
            },
            "description": "The sender of the current record. This usually equals to the ordering party unless the record is a copy that was generated by some other component. In this case the sender can be different from the ordering party",
            "descriptionMap": {
                "de": "Der Versender des Datensatzes. Dies ist in der Regel der Versandpartner bzw. der beauftragende Partner. Er kann jedoch abweichen, wenn ein Dritter eine Kopie erzeugt und weiterleitet."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S002/Field0004"
                }
            ],
            "$ref": "#/definitions/partnerIdentification",
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "receiver": {
            "title": "Data Recipient",
            "titleMap": {
                "de": "Daten-Empfänger"
            },
            "description": "The intended recipient of the the current record. This usually equals to the contracted party unless the record is intentionally sent to another system.",
            "descriptionMap": {
                "de": "Der Empfänger des Datensatzes. Dies ist in der Regel der Empfangspartner bzw. der beauftragte Partner. Er kann jedoch abweichen, wenn der Datensatz gezielt an ein anderes System übertragen werden soll."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S003/Field0010"
                }
            ],
            "$ref": "#/definitions/partnerIdentification",
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "additionalLoadingEquipment": {
            "title": "Additional loading equipment",
            "titleMap": {
                "de": "Zusätzliche Ladehilfsmittel"
            },
            "description": "Additional loading equipment used to securely load the goods into for the passage",
            "descriptionMap": {
                "de": "Zusätzliche Ladehilsmittel, die zur Ladungssicherung eingesetzt wurden"
            },
            "type": "object",
            "properties": {
                "eurPallets": {
                    "title": "EPAL",
                    "titleMap": {
                        "de": "Euro-Paletten"
                    },
                    "description": "EUR pallets as defined by European Pallet Association (EPAL)",
                    "descriptionMap": {
                        "de": "Euro-Flachpaletten EUR, gemäß European Pallet Association (EPAL)"
                    },
                    "type": "number"
                },
                "eurBoxes": {
                    "title": "EUR box pallets",
                    "description": "EUR Box pallets as defined by European Pallet Association (EPAL)",
                    "titleMap": {
                        "de": "EUR Gitterboxen"
                    },
                    "descriptionMap": {
                        "de": "Gitterboxen, gemäß European Pallet Association (EPAL)"
                    },
                    "type": "number"
                }
            },
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "loadUnits": {
            "title": "Load units",
            "titleMap": {
                "de": "Ladeeinheiten"
            },
            "description": "Load units (containers, swap bodies, ...) used to transport the goods",
            "descriptionMap": {
                "de": "Ladeeinheiten/Gefäße/Container (z.B. Wechselbrücken, Auflieger, Container, ...) in denen die Ware transportiert wird"
            },
            "type": "array",
            "items": {
                "properties": {
                    "identification": {
                        "title": "Identification",
                        "titleMap": {
                            "de": "Kennung"
                        },
                        "description": "Identification (e.g. registration number) of the unit",
                        "descriptionMap": {
                            "de": "Eindeutige Kennzeichnung (z.B. Registrier-Nummer) der Ladeeinheit"
                        },
                        "type": "string"
                    },
                    "seals": {
                        "title": "Seals",
                        "titleMap": {
                            "de": "Plomben"
                        },
                        "description": "Seals used to prevent tampering with the goods in the load unit",
                        "descriptionMap": {
                            "de": "Plomben der Ladeeinheit"
                        },
                        "type": "array",
                        "items": {
                            "title": "Seal",
                            "titleMap": {
                                "de": "Plombe"
                            },
                            "description": "Numbers of the seals used to prevent tampering with the goods in the load unit",
                            "descriptionMap": {
                                "de": "Nummern der Plomben, die an der Load Unit angebracht sind"
                            },
                            "type": "object",
                            "properties": {
                                "code": {
                                    "title": "Code / number of the seal",
                                    "titleMap": {
                                        "de": "Code / Nummer der plombe"
                                    },
                                    "type": "string"
                                }
                            },
                            "patternProperties": {
                                "x-.*": {},
                                "\\$.*": {}
                            },
                            "additionalProperties": false
                        }
                    }
                },
                "patternProperties": {
                    "x-.*": {},
                    "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "notificationParties": {
            "title": "Notification parties",
            "titleMap": {
                "de": "Zu benachrichtigende Stellen"
            },
            "description": "",
            "descriptionMap": {
                "de": ""
            },
            "type": "array",
            "items": {
                "$ref": "#/definitions/address",
                "patternProperties": {
                  "x-.*": {},
                  "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "vehicles": {
            "title": "Vehicles",
            "titleMap": {
                "de": "Fahrzeuge"
            },
            "description": "Information about the vehicles used in the tour",
            "descriptionMap": {
                "de": "Informationen zu den eingesetzten Fahrzeugen"
            },
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "vehicleId": {
                        "type": "string"
                    },
                    "registration": {
                        "title": "Official registration of the vehicle (e.g. license plate number)",
                        "titleMap": {
                            "de": "KFZ-Kennzeichen (oder vergleichbare offizielle Registrierungsnummer)"
                        },
                        "type": "string"
                    },
                    "truckType": {}
                },
                "patternProperties": {
                    "x-.*": {},
                    "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "drivers": {
            "title": "Drivers",
            "titleMap": {
                "de": "Fahrer"
            },
            "description": "Information about the drivers of the vehicles",
            "descriptionMap": {
                "de": "Informationen zu den Fahrern"
            },
            "type": "array",
            "items": {
                "driverId": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "phoneNumber": {
                    "type": "string"
                },
                "patternProperties": {
                  "x-.*": {},
                  "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "consignments": {
            "title": "Consignments",
            "titleMap": {
                "de": "Lieferungen"
            },
            "description": "Consignments which are delivered while proccessing the tour",
            "descriptionMap": "Lieferungen, die während der Tour getätigt werden",
            "type": "array",
            "items": {
                "allOf": [
                    {
                        "$id": "http://conizi.io/model/transport/truck/groupage/forwarding/consignment.json"
                    }
                ],
                "properties": {
                    "objectId": {
                        "type": "string"
                    }
                },
                "required": [
                    "consignmentObjectId"
                ]
            }
        },
        "dangerousGoods": {
            "title": "Dangerous goods",
            "titleMap": {
                "de": "Gefahrgüter"
            },
            "description": "Dangerous goods to be declared contained in a consignment",
            "descriptionMap": {
                "de": "Deklarationspflichtige beladene Gefahrgüter"
            },
            "type": "object",
            "properties": {
                "isADR": {
                    "type": "boolean"
                },
                "totalPointADR": {
                    "type": "number"
                }
            },
            "additionalProperties": false
        },
        "tourStartOptions": {
            "title": "Tour start options",
            "titleMap": {
                "de": "Tourstartverpflichtungen"
            },
            "description": "Activities the driver is supposed to do before starting driving the tour",
            "desctiptionMap": {
                "de": "Geforderte Tätigkeiten, die der Fahrer vor Fahrtbeginn dieser Tour durchzuführen hat"
            },
            "type": "object",
            "properties": {
                "departureCheck": {
                    "type": "boolean"
                },
                "writeDownMileage": {
                    "type": "boolean"
                }
            },
            "patternProperties": {
              "x-.*": {},
              "\\$.*": {}
            },
            "additionalProperties": false
        },
        "tourEndOptions": {
            "title": "Tour end options",
            "titleMap": {
                "de": "Tourbeendigungsverpflichtungen"
            },
            "description": "Activities the driver is supposed to do after finishing driver the tour",
            "descriptionMap": {
                "de": "Geforderte Tätigkeiten, die der Fahrer nach Fahrtende der Tour durchzuführen hat"
            },
            "type": "object",
            "properties": {
                "writeDownMileage": {
                    "type": "boolean"
                }
            },
            "patternProperties": {
              "x-.*": {},
              "\\$.*": {}
            },
            "additionalProperties": false
        },
        "stops": {
            "title": "Stops for delivering",
            "titleMap": {
                "de": "Lieferstops"
            },
            "description": "List of stops for delivering the acutal goods",
            "descriptionMap": {
                "de": "Liste an Stops für die Zustellung der einzelnen Ladungsgüter"
            },
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "stopNo": {
                        "title": "Stop number",
                        "titleMap": {
                            "de": "Stopnummer"
                        },
                        "description": "The whole of the stop numbers in the right order defines the order of the stops",
                        "descriptionMap": {
                            "de": "Die Gesamtheit der Stopnummern bestimmt die Reihenfolge, in der die Stops angefahren werden sollen"
                        },
                        "type": "number"
                    },
                    "address": {
                        "$ref": "#/definitions/address",
                        "patternProperties": {
                          "x-.*": {},
                          "\\$.*": {}
                        },
                        "additionalProperties": false
                    },
                    "fuelStopInformation": {
                        "type": "object",
                        "properties": {
                            "scheduledArrival": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledDeparture": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledWaitMinutes": {
                                "type": "integer"
                            },
                            "scheduledHandlingMinutes": {
                                "type": "integer"
                            },
                            "notes": {
                                "type": "string"
                            }
                        },
                        "patternProperties": {
                          "x-.*": {},
                          "\\$.*": {}
                        },
                        "additionalProperties": false
                    },
                    "wayPointInformation": {
                        "type": "object",
                        "properties": {
                            "scheduledArrival": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledDeparture": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledWaitMinutes": {
                                "type": "integer"
                            },
                            "scheduledHandlingMinutes": {
                                "type": "integer"
                            },
                            "notes": {
                                "type": "string"
                            },
                            "crossDocking": {
                                "type": "boolean"
                            }
                        },
                        "patternProperties": {
                          "x-.*": {},
                          "\\$.*": {}
                        },
                        "additionalProperties": false
                    },
                    "borderCrossInformation": {
                        "type": "object",
                        "properties": {
                            "scheduledArrival": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledDeparture": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledWaitMinutes": {
                                "type": "integer"
                            },
                            "scheduledHandlingMinutes": {
                                "type": "integer"
                            },
                            "notes": {
                                "type": "string"
                            }
                        },
                        "patternProperties": {
                          "x-.*": {},
                          "\\$.*": {}
                        },
                        "additionalProperties": false
                    },
                    "loadingInformation": {
                        "type": "object",
                        "properties": {
                            "scheduledArrival": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledDeparture": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledWaitMinutes": {
                                "type": "integer"
                            },
                            "scheduledHandlingMinutes": {
                                "type": "integer"
                            },
                            "bookedTimeslots": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "fromDateTime": {
                                            "type": "string"
                                        },
                                        "untilDateTime": {
                                            "type": "string"
                                        },
                                        "gate": {
                                            "type": "string"
                                        },
                                        "notes": {
                                            "type": "string"
                                        }
                                    },
                                    "patternProperties": {
                                      "x-.*": {},
                                      "\\$.*": {}
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "workingHours": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "fromDateTime": {
                                            "type": "string"
                                        },
                                        "untilDateTime": {
                                            "type": "string"
                                        }
                                    },
                                    "patternProperties": {
                                      "x-.*": {},
                                      "\\$.*": {}
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "consignmentObjectIds": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "notes": {
                                "type": "string"
                            }
                        }
                    },
                    "unloadingInformation": {
                        "type": "object",
                        "properties": {
                            "scheduledArrival": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledDeparture": {
                                "$ref": "#/definitions/timespan",
                                "patternProperties": {
                                  "x-.*": {},
                                  "\\$.*": {}
                                },
                                "additionalProperties": false
                            },
                            "scheduledWaitMinutes": {
                                "type": "integer"
                            },
                            "scheduledHandlingMinutes": {
                                "type": "integer"
                            },
                            "bookedTimeslots": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "fromDateTime": {
                                            "type": "string"
                                        },
                                        "untilDateTime": {
                                            "type": "string"
                                        },
                                        "gate": {
                                            "type": "string"
                                        },
                                        "notes": {
                                            "type": "string"
                                        }
                                    },
                                    "patternProperties": {
                                      "x-.*": {},
                                      "\\$.*": {}
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "officeHours": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "fromDateTime": {
                                            "type": "string"
                                        },
                                        "untilDateTime": {
                                            "type": "string"
                                        }
                                    },
                                    "patternProperties": {
                                      "x-.*": {},
                                      "\\$.*": {}
                                    },
                                    "additionalProperties": false
                                }
                            },
                            "consignmentObjectIds": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "notes": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    },
    "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
    },
    "additionalProperties": false,
    "definitions": {
        "address": {
            "type": "object",
            "properties": {
                "reference": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "street": {
                    "type": "string"
                },
                "zipCode": {
                    "type": "string"
                },
                "city": {
                    "type": "string"
                },
                "townarea": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "additionalAddressLines": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    ]
                },
                "geoPosition": {
                    "$ref": "#/definitions/geoPosition",
                    "patternProperties": {
                        "x-.*": {},
                        "\\$.*": {}
                    },
                    "additionalProperties": false
                },
                "email": {
                    "type": "string"
                },
                "phoneNumber": {
                    "type": "string"
                }
            }
        },
        "geoPosition": {
            "type": "object",
            "properties": {
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "altitude": {
                    "type": "number"
                },
                "quality": {
                    "type": "number"
                }
            }
        },
        "timespan": {
            "type": "object",
            "properties": {
                "from": {
                    "type": "string"
                },
                "until": {
                    "type": "string"
                }
            }
        },
        "partnerIdentification": {
            "type": "object",
            "anyOf": [
                {
                    "$ref": "#/definitions/ediId"
                },
                {
                    "$ref": "#/definitions/partnerId"
                },
                {
                    "$ref": "#/definitions/address"
                }
            ]
        },
        "ediId": {
            "type": "object",
            "properties": {
                "ediId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "ediId"
            ]
        },
        "partnerId": {
            "type": "object",
            "properties": {
                "partnerId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "partnerId"
            ]
        }
    }
}