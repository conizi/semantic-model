{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://model.conizi.io/v1/transport/truck/groupage/forwarding/package-event.json",
  "title": "Package event",
  "description": "An event which occurred during the processing of the referenced package.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "title": "Json schema",
      "description": "The used json schema",
      "type": "string"
    },
    "$createdAt": {
      "title": "Created at date",
      "description": "The message was created at date",
      "type": "string",
      "format": "date-time"
    },
    "$createdBy": {
      "title": "Created by generator",
      "description": "The message was created by",
      "type": "string"
    },
    "receiver": {
      "$id": "messageRouting",
      "title": "Routing information of the message",
      "description": "Routing information to identify the parties involved in the data transfer",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "partnerId": {
          "title": "The PartnerId",
          "description": "The partner which is sending the message to the receiving partner for further actions (e.g. 1234)",
          "type": "string"
        },
        "ediId": {
          "title": "The Edi Id",
          "description": "The Edi Id is the technical sender or receiver (e.g. CONIZVK)",
          "type": "string"
        },
        "coniziId": {
          "title": "The Conizi Id",
          "description": "The conizi id for internal routing purposes",
          "type": "string"
        }
      },
      "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
      }
    },
    "sender": {
      "$ref": "messageRouting"
    },
    "network": {
      "$id": "network",
      "title": "Network",
      "description": "The network under which rules the consignment should be processed",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "networkId": {
          "title": "Name of the network",
          "description": "The name of the network. This is often identical to the name of the code list. Since the same code list may however be used outside the network, this field independently allows to specify the network",
          "type": "string"
        },
        "codelist": {
          "title": "Name of the code list used",
          "description": "The name of the code list which specifies how the receiving system should interpret the codes used",
          "type": "string"
        },
        "product": {
          "title": "Name of the product",
          "description": "The product allows to distingish different processes within one network, effectively sub classing the network",
          "type": "string"
        }
      }
    },
    "shippingPartner": {
      "$id": "partnerIdentification",
      "title": "Fields to identify the partner",
      "description": "Routing information to identify the parties involved in the data transfer",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "geoPosition": {
          "$id": "geoPosition",
          "title": "Geo position",
          "description": "Data about the current geo position",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "longitude": {
              "title": "Longitude",
              "description": "East–west position of a point on the Earth's surface",
              "type": "number"
            },
            "latitude": {
              "title": "Latitude",
              "description": "North–south position of a point on the Earth's surface",
              "type": "number"
            },
            "placeName": {
              "title": "Place name",
              "description": "The place name of the current geo position",
              "type": "string"
            },
            "w3WCoordinate": {
              "title": "What3words coordinate",
              "description": "A coordinate for the What3Words service like index.home.raft",
              "type": "string"
            },
            "recordTime": {
              "title": "Record time",
              "description": "Time the GPS record was created",
              "type": "string",
              "format": "date-time"
            }
          },
          "required": [
            "longitude",
            "latitude"
          ]
        },
        "name": {
          "title": "Name of the address",
          "type": "string"
        },
        "street": {
          "title": "Street of the address",
          "type": "string"
        },
        "houseNumber": {
          "title": "House number of the address",
          "type": "string"
        },
        "zipCode": {
          "title": "Zip code of the Address",
          "type": "string"
        },
        "city": {
          "title": "City of the address",
          "type": "string"
        },
        "townArea": {
          "title": "Town area address",
          "type": "string"
        },
        "countryCode": {
          "title": "Country code of the address Use ISO 3166-1 Alpha-2 codes.",
          "type": "string"
        },
        "emailAddress": {
          "title": "Email of the address",
          "type": "string"
        },
        "phoneNumber": {
          "title": "Phone number of the address",
          "type": "string"
        },
        "additionalAddressLines": {
          "title": "Additional address lines of the address",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "referenceNumber": {
          "title": "Reference number for an address",
          "type": "string"
        },
        "contactPerson": {
          "title": "The contact person",
          "type": "string"
        },
        "faxNumber": {
          "title": "The Fax number",
          "type": "string"
        },
        "partnerId": {
          "title": "The PartnerId",
          "description": "The partner which is sending the message to the receiving partner for further actions (e.g. 1234)",
          "type": "string"
        },
        "ediId": {
          "title": "The Edi Id",
          "description": "The Edi Id is the technical sender or receiver (e.g. CONIZVK)",
          "type": "string"
        },
        "coniziId": {
          "title": "The Conizi Id",
          "description": "The conizi id for internal routing purposes",
          "type": "string"
        }
      },
      "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
      }
    },
    "receivingPartner": {
      "$ref": "partnerIdentification"
    },
    "reportingPartner": {
      "$ref": "partnerIdentification"
    },
    "consignmentNoShippingPartner": {
      "title": "Consignment number of the shipping partner",
      "description": "Unique identification for the consignment within the transport management system of the shipping partner",
      "type": "string"
    },
    "packageNo": {
      "title": "Package number / Barcode of the package",
      "description": "Unique identification for the package. This is often an SSCC / NVE barcode number",
      "type": "string"
    },
    "pickupSender": {
      "$id": "packageEvent",
      "title": "Package specific Event",
      "description": "Event to notify about package specific incidents",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "eventDateTime": {
          "title": "Event Date-time",
          "description": "Date and time when the event occurred",
          "type": "string",
          "format": "date-time"
        },
        "packageType": {
          "title": "Type of the package",
          "description": "Type of the package that is beeing reported",
          "type": "string"
        },
        "masterBarcode": {
          "title": "Master barcode",
          "description": "Master barcode (i.e. Master colli)",
          "type": "string"
        },
        "lotNo": {
          "title": "Lot number",
          "description": "Lot number",
          "type": "string"
        },
        "bestBeforeDate": {
          "title": "Best before",
          "description": "Best before",
          "type": "string",
          "format": "date"
        },
        "transportUnitNo": {
          "title": "Transport Unit Number",
          "description": "Transport Unit Number",
          "type": "string"
        },
        "scanUser": {
          "title": "Scan user",
          "description": "Scan user",
          "type": "string"
        },
        "gateNo": {
          "title": "Gate",
          "description": "Gate",
          "type": "string"
        },
        "terminalNo": {
          "title": "Terminal number",
          "description": "Terminal number",
          "type": "string"
        },
        "bulkiness": {
          "$id": "packageBulkiness",
          "title": "Bulkiness of the package",
          "description": "Bulkiness of the package (length / width / height)",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "length": {
              "title": "Length (m)",
              "description": "Length in meter",
              "type": "number"
            },
            "width": {
              "title": "Width (m)",
              "description": "Width in meter",
              "type": "number"
            },
            "height": {
              "title": "Height (m)",
              "description": "Height in meter",
              "type": "number"
            }
          },
          "patternProperties": {
            "x-.*": {},
            "\\$.*": {}
          }
        },
        "bulkinessCategory": {
          "title": "Bulkiness category",
          "description": "Bulkiness category",
          "type": "string"
        },
        "exceptions": {
          "$id": "packageEventExceptions",
          "title": "Exceptions",
          "description": "Detailed information about the exceptions that occured while processing / scanning the package",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "damaged": {
              "$id": "emptyExtendableObject",
              "title": "Empty Extendable Object",
              "description": "The empty EmptyExtendableObject is used for non yet completed defined objects. ",
              "type": "object",
              "additionalProperties": false,
              "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
              }
            },
            "pressedIn": {
              "$ref": "emptyExtendableObject"
            },
            "open": {
              "$ref": "emptyExtendableObject"
            },
            "wet": {
              "$ref": "emptyExtendableObject"
            },
            "leaked": {
              "$ref": "emptyExtendableObject"
            },
            "rejected": {
              "$ref": "emptyExtendableObject"
            },
            "damagedAfterPackagingRemoval": {
              "$ref": "emptyExtendableObject"
            },
            "shrinkWrapped": {
              "$ref": "emptyExtendableObject"
            },
            "damagedEmptiesContentOk": {
              "$ref": "emptyExtendableObject"
            },
            "oversized": {
              "$ref": "emptyExtendableObject"
            },
            "specialRun": {
              "$ref": "emptyExtendableObject"
            },
            "spaceIssue": {
              "$ref": "emptyExtendableObject"
            },
            "timeIssue": {
              "$ref": "emptyExtendableObject"
            },
            "routingError": {
              "$ref": "emptyExtendableObject"
            },
            "loadingError": {
              "$ref": "emptyExtendableObject"
            }
          },
          "patternProperties": {
            "x-.*": {},
            "\\$.*": {}
          }
        },
        "remarks": {
          "title": "Remarks (free form)",
          "description": "Additional remarks",
          "type": "string"
        }
      },
      "required": [
        "eventDateTime"
      ],
      "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
      }
    },
    "unloadingShippingPartner": {
      "$ref": "packageEvent"
    },
    "loadingShippingPartner": {
      "$ref": "packageEvent"
    },
    "entrySecurityAreaShippingPartner": {
      "$ref": "packageEvent"
    },
    "exitSecurityAreaShippingPartner": {
      "$ref": "packageEvent"
    },
    "stocktakingShippingPartner": {
      "$ref": "packageEvent"
    },
    "unloadingGateway": {
      "$ref": "packageEvent"
    },
    "loadingGateway": {
      "$ref": "packageEvent"
    },
    "entrySecurityAreaGateway": {
      "$ref": "packageEvent"
    },
    "exitSecurityAreaGateway": {
      "$ref": "packageEvent"
    },
    "stocktakingGateway": {
      "$ref": "packageEvent"
    },
    "unloadingHUB": {
      "$ref": "packageEvent"
    },
    "loadingHUB": {
      "$ref": "packageEvent"
    },
    "entrySecurityAreaHUB": {
      "$ref": "packageEvent"
    },
    "exitSecurityAreaHUB": {
      "$ref": "packageEvent"
    },
    "stocktakingHUB": {
      "$ref": "packageEvent"
    },
    "unloadingReceivingPartner": {
      "$ref": "packageEvent"
    },
    "loadingReceivingPartner": {
      "$ref": "packageEvent"
    },
    "entrySecurityAreaReceivingPartner": {
      "$ref": "packageEvent"
    },
    "exitSecurityAreaReceivingPartner": {
      "$ref": "packageEvent"
    },
    "stocktakingReceivingPartner": {
      "$ref": "packageEvent"
    },
    "deliveryReceiver": {
      "$ref": "packageEvent"
    },
    "unloadingAfterDeliveryAttempt": {
      "$ref": "packageEvent"
    },
    "unloadingExternalDeliverer": {
      "$ref": "packageEvent"
    }
  },
  "required": [
    "$schema",
    "receiver",
    "consignmentNoShippingPartner",
    "packageNo"
  ],
  "patternProperties": {
    "x-.*": {},
    "\\$.*": {}
  }
}