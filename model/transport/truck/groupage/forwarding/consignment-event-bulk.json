{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "@id": "http://conizi.io/model/transport/truck/groupage/forwarding/consignment-event-bulk.json",
    "title": "Consignment events - bulk send",
    "titleMap": {
        "de": "Ereignisse / Status zu unterschiedlichen Sendungen"
    },
    "description": "Events for different consignments, that can be send in bulk, which occured during the processing of the referenced consignments.",
    "descriptionMap": {
        "de": "Ereignisse (Status) zu unterschiedlichen Sendungen, die im Block geschick werden können, die  während der Abarbeitung der referenzierten Sendungen aufgetreten sind."
    },
    "type": "object",
    "properties": {
        "sender": {
            "title": "Data Origin",
            "titleMap": {
                "de": "Daten-Quelle"
            },
            "description": "The sender of the current record. This usually equals to the ordering party unless the record is a copy that was generated by some other component. In this case the sender can be different from the ordering party",
            "descriptionMap": {
                "de": "Der Versender des Datensatzes. Dies ist in der Regel der Versandpartner bzw. der beauftragende Partner. Er kann jedoch abweichen, wenn ein Dritter eine Kopie erzeugt und weiterleitet."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S002/Field0004"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "receiver": {
            "title": "Data Recipient",
            "titleMap": {
                "de": "Daten-Empfänger"
            },
            "description": "The intended recipient of the the current record. This usually equals to the contracted party unless the record is intentionally sent to another system.",
            "descriptionMap": {
                "de": "Der Empfänger des Datensatzes. Dies ist in der Regel der Empfangspartner bzw. der beauftragte Partner. Er kann jedoch abweichen, wenn der Datensatz gezielt an ein anderes System übertragen werden soll."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S003/Field0010"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "network": {
            "title": "Network",
            "titleMap": {
                "de": "Netzwerk"
            },
            "description": "The network under which rules the consignment should be processed",
            "descriptionMap": {
                "de": "Das Netzwerk, unter dessen Regeln die Sendung abgewickelt werden soll."
            },
            "type": "object",
            "properties": {
                "networkId": {
                "title": "Name of the network",
                "titleMap": {
                    "de": "Name des Netzwerks"
                },
                "description": "The name of the network. This is often identical to the name of the code list. Since the same code list may however be used outside the network, this field independently allows to specify the network.",
                "descriptionMap": {
                    "de": "Der Name des Netzwerk. Dieser ist in der Regel identisch mit der Code-Liste. Da die Code-Liste des Netzwerks jedoch auch für bilaterale Vereinbarungen genutzt werden kann, kann das Netzwerk als solches unabhängig angegeben werden"
                },
                "type": "string"
                },
                "codelist": {
                "title": "Name of the code list used",
                "titleMap": {
                    "de": "Name der Codeliste"
                },
                "description": "The name of the code list which specifies how the receiving system should interpret the codes used",
                "descriptionMap": {
                    "de": "Der Name der verwendeten Code-Liste, die angibt, wie ein empfangendes System die Werte zu interpretieren hat"
                },
                "type": "string"
                },
                "product": {
                "title": "Name of the product",
                "titleMap": {
                    "de": "Name des Produkts"
                },
                "description": "The product allows to distingish different processes within one network, effectively sub classing the network.",
                "descriptionMap": {
                    "de": "Das Produkt erlaubt verschiedene Prozesse innerhalb eines Netzwerks weiter zu unterscheiden und ermöglicht somit eine Unterteilung des Netzwerks in verschiedene Bereiche."
                },
                "type": "string"
                }
            },
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "events": {
            "type": "array",
            "items": {
                "properties": {
                    "event": {
                        "$ref": "consignment-event.json"
                    }
                }
            }
        }
    },
    "definitions": {
        "nameAndAddress": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "additionalAddressLines": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "street": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "zipCode": {
                    "type": "string"
                },
                "city": {
                    "type": "string"
                },
                "townarea": {
                    "type": "string"
                }
            }
        },
        "partnerIdentification": {
            "type": "object",
            "anyOf": [
                {
                    "$ref": "#/definitions/ediId"
                },
                {
                    "$ref": "#/definitions/partnerId"
                },
                {
                    "$ref": "#/definitions/address"
                }
            ]
        },
        "ediId": {
            "type": "object",
            "properties": {
                "ediId": {
                    "type": "string"
                }
            },
            "required": [
                "ediId"
            ]
        },
        "partnerId": {
            "type": "object",
            "properties": {
                "partnerId": {
                    "type": "string"
                }
            },
            "required": [
                "partnerId"
            ]
        },
        "address": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "additionalAddressLines": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "street": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "zipCode": {
                    "type": "string"
                },
                "city": {
                    "type": "string"
                },
                "townarea": {
                    "type": "string"
                }
            },
            "required": [
                "name"
            ]
        }
    }
}