{
	"$schema": "http://json-schema.org/draft-06/schema#",
	"@id": "http://conizi.io/model/accounting/material/transaction.json",
	"title": "Material Accounting Transaction",
	"titleMap": {
		"de": "Materialbuchhaltungs-Transaktion"
	},
	"required": [
		"id",
		"item",
		"amount",
		"sourceAccount",
		"destinationAccount",
		"bookingDate"
	],
	"type": "object",
	"properties": {
        "sender": {
          "title": "Data Origin",
          "titleMap": {
            "de": "Daten-Quelle"
          },
          "description": "The sender of the current record.",
          "descriptionMap": {
            "de": "Der Versender des Datensatzes."
          },
          "$ref": "#/definitions/partnerIdentification"
        },
        "receiver": {
          "title": "Data Recipient",
          "titleMap": {
            "de": "Daten-Empfänger"
          },
          "description": "The intended recipient of the the current record.",
          "descriptionMap": {
            "de": "Der Empfänger des Datensatzes."
          },
          "$ref": "#/definitions/partnerIdentification"
        },
		"id": {
			"title": "Unique booking id",
			"titleMap": {
				"de": "Buchungs Id"
			},
			"type": "string"
		},
		"item": {
			"title": "Booking item",
			"titleMap": {
				"de": "Buchungsobjekt"
			},
			"type": "string"
		},
		"sourceAccount": {
			"title": "Source Account",
			"titleMap": {
				"de": "Ursprungskonto"
			},
			"type": "string"
		},
		"destinationAccount": {
			"title": "Destination Account",
			"titleMap": {
				"de": "Zielkonto"
			},
			"type": "string"
		},
		"comment": {
			"title": "Comment Booking",
			"titleMap": {
				"de": "Kommentar zur Buchung"
			},
			"type": "string"
		},
		"amount": {
			"title": "Amount",
			"titleMap": {
				"de": "Menge"
			},
			"type": "number"
		},
		"bookingDate": {
			"title": "Booking Date",
			"titleMap": {
				"de": "Bucnungsdatum"
			},
			"type": "string"
		},
		"referenceNumber": {
			"title": "Referencenumber",
			"titleMap": {
				"de": "Referenznummer"
			},
			"type": "string"
		}
	},
    "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
    },
    "additionalProperties": false,
    "definitions": {
    "partnerIdentification": {
      "type": "object",
      "anyOf": [{
          "$ref": "#/definitions/ediId"
        },
        {
          "$ref": "#/definitions/partnerId"
        },
        {
          "$ref": "#/definitions/address"
        }
      ]
    },
    "ediId": {
      "type": "object",
      "properties": {
        "ediId": {
          "type": "string"
        }
      },
      "required": [
        "ediId"
      ]
    },
    "partnerId": {
      "type": "object",
      "properties": {
        "partnerId": {
          "type": "string"
        }
      },
      "required": [
        "partnerId"
      ]
    },
    "address": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "additionalAddressLines": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "street": {
          "type": "string"
        },
        "countryCode": {
          "type": "string"
        },
        "zipCode": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "townArea": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    }
  }
}